from dataclasses import dataclass

import numpy as np

@dataclass
class Configs():


    NFRAMES: int = 60
    X_DIM: int = 772 #1200 #480
    Y_DIM: int = 1024 #1920 #640
    X_MIN: int = 300 #200 #190
    X_MAX: int = 500 #300 #260
    Y_MIN: int = 200 #0 # 200
    Y_MAX: int = 800 #600 #500
    PROBE_SIZE: float = 88200. # um
    VELOCITY = np.array([9, 13, 20, 30, 45, 68, 103, 155, 234, 352], dtype=int)
    # Debug
    #VELOCITY = np.array([68, 103, 155, 190, 234, 352], dtype=int)

    DWELL = (PROBE_SIZE / VELOCITY).astype(int)

    # POWER = {
    #      9: [30, 33, 36, 39, 42, 45, 48, 51],
    #      13: [30, 33, 36, 39, 42, 45, 48, 51],
    #      20: [30, 33, 36, 39, 42, 45, 48, 51],
    #      30: [30, 33, 36, 39, 42, 45, 48, 51],
    #      45: [30, 33, 36, 39, 42, 45, 48, 51],
    #      68: [33, 36, 39, 42, 45, 48, 51, 54],
    #      103: [33, 36, 39, 42, 45, 48, 51, 54],
    #      155: [36, 39, 42, 45, 48, 51, 57],
    #      190: [39, 42, 45, 48, 51, 57, 60],
    #      234: [42, 45, 48, 51, 57, 60, 63],
    #      352: [42, 45, 48, 51, 57, 60, 63, 66]
    #  }
    POWER = {
         9: [24, 26, 28, 30, 32, 34, 36, 38],
         13: [24, 26, 28, 30, 32, 34, 36, 38],
         20: [24, 26, 28, 30, 32, 34, 36, 38],
         30: [26, 28, 30, 32, 34, 36, 38, 40],
         45: [26, 28, 30, 32, 34, 36, 38, 40],
         68: [28, 30, 32, 34, 36, 38, 40, 42],
         103: [30, 32, 34, 36, 38, 40, 42, 44],
         155: [34, 36, 38, 40, 42, 44, 46, 48],
         234: [38, 40, 42, 44, 46, 48, 50, 52],
         352: [42, 44, 46, 48, 50, 52, 54, 56]
     }
    
    # After bumped and adjustment
    MELT = {
            '9':   40.8,
            '13':  41.2,
            '20':  41.9,
            '30':  42.7,
            '45':  44.7,
            '68':  46.3,
            '103': 48.5,
            '155': 51.5,
             # '190': 67.3,
            '234': 55.0,
            '352':  59.5 
            }

    # MELT_GOLD = {
    #         '9':   46.7,
    #         '13':  47.4,
    #         '20':  48.2,
    #         '30':  49.35,
    #         '45':  50.9,
    #         '68':  55.0,
    #         '103': 55.7,
    #         '155': 59.6,
    #          # '190': 61.5,
    #         '234': 63.6,
    #         '352': 68.9 
    #         }

    ###############
    # MELT = {
    #         '9':   50.9,
    #         '13':  51.6,
    #         '20':  52.25,
    #         '30':  53.25,
    #         '45':  53.8,
    #         '68':  56.65,
    #         '103': 59.5,
    #         '155': 62.5,
    #         '190': 64.3,
    #         '234': 66.8,
    #         '352': 72.0 
    #     } 

    # VGA setting
    N_FRAMES = {
            9: 100,
            13: 60,
            20: 60,
            30: 60,
            45: 60,
            68: 60,
            103: 60,
            155: 60,
            190: 60,
            234: 60,
            352: 60,
         }


    # Calculated by 4.5 / config.VELOCITY * 60 + 1
    # array([31.        , 21.76923077, 14.5       , 10.        ,  7.        ,
    #        4.97058824,  3.62135922,  2.74193548,  2.15384615,  1.76704545])
    FRAME = {
            9: 31,
            13: 22,
            20: 15,
            30: 10 ,
            45: 7,
            68: 5,
            103: 4,
            155: 3,
            234: 2,
            352: 2,
         }

    # Full frame setting
    # N_FRAMES = {
    #         9: 20,
    #         13: 15,
    #         20: 9,
    #         30: 7,
    #         45: 5,
    #         68: 4,
    #         103: 4,
    #         155: 4,
    #         190: 3,
    #         234: 3,
    #         352: 3,
    #      }


    # FRAME = {
    #         9: 18,
    #         13: 13,
    #         20: 8,
    #         30: 6,
    #         45: 4,
    #         68: 3,
    #         103: 2,
    #         155: 2,
    #         190: 1,
    #         234: 1,
    #         352: 1,
    #      }
    # 
